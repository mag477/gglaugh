<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>笑到瘋</title>
    <!-- 引入 Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* 設定字體為 Inter，增加現代感 */
      body {
        font-family: "Inter", sans-serif;
      }
    </style>
  </head>
  <body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">
    <!-- 網頁內容區塊：居中顯示 -->
    <div class="text-center">
      <!-- 標題 (可選) -->
      <!-- <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-800 mb-8">
        點我發出笑聲！
      </h1> -->

      <!-- 超大音效按鈕 -->
      <!-- 已將 py- 和 px- 替換為統一的 p- 內邊距，使其呈現圓形 -->
      <button
        id="laughButton"
        class="bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 text-white font-black p-20 sm:p-24 md:p-32 rounded-full shadow-2xl transition duration-150 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-yellow-500 focus:ring-opacity-50 text-5xl sm:text-6xl md:text-8xl cursor-pointer select-none border-4 border-yellow-700"
      >
        笑
      </button>
    </div>

    <!-- 隱藏的音訊元素 -->
    <!-- 預設音效檔名為 laugh_sound.mp3 -->
    <audio id="laughAudio" src="laugh.mp3" preload="auto"></audio>

    <script>
      // 確保 DOM 完全載入後才執行程式碼
      document.addEventListener("DOMContentLoaded", () => {
        // 1. 取得按鈕和音訊元素
        const laughButton = document.getElementById("laughButton");
        const laughAudio = document.getElementById("laughAudio");

        // 2. 定義播放音效的函式
        const playLaugh = () => {
          // 將音訊播放時間重設到開頭 (這樣即使連續點擊也能馬上播放)
          laughAudio.currentTime = 0;

          // 播放音效
          // 使用 try...catch 處理瀏覽器可能禁止自動播放音訊的錯誤
          laughAudio.play().catch((error) => {
            console.error(
              "音效播放失敗，可能是因為瀏覽器的自動播放政策：",
              error
            );
            // 可以選擇在此處顯示一個訊息給使用者
            // 由於不允許使用 alert()，可以在網頁上顯示一個提示訊息
            // 例如：document.getElementById('messageArea').textContent = "請先點擊網頁任何地方一次以啟用音效。";
          });
        };

        // 3. 為按鈕添加點擊事件監聽器
        laughButton.addEventListener("click", playLaugh);

        // 4. 錯誤處理和提醒 (給開發者)
        if (
          laughAudio.src.includes("laugh_sound.mp3") &&
          laughAudio.networkState === 3
        ) {
          console.warn(
            "注意：音效檔案 'laugh_sound.mp3' 可能尚未放置在正確的位置。請確認檔名和路徑是否正確！"
          );
        }
      });
    </script>
  </body>
</html>
